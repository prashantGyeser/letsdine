(function(r,e,t){"use strict";var n=e.$$minErr("$resource");e.module("ngResource",["ng"]).factory("$resource",["$http","$parse","$q",function(r,a,o){function s(r){return i(r,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(r,e){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(r,e){this.template=r,this.defaults=e||{},this.urlParams={}}function u(a,s,i){function $(r,e){var t={};return e=m({},s,e),f(e,function(e,n){g(e)&&(e=e()),t[n]=e&&e.charAt&&"@"==e.charAt(0)?h(r,e.substr(1)):e}),t}function w(r){return r.resource}function v(r){d(r||{},this)}var y=new c(a);return i=m({},p,i),f(i,function(a,s){var i=/^(POST|PUT|PATCH)$/i.test(a.method);v[s]=function(s,c,u,p){var h,E,A,P={};switch(arguments.length){case 4:A=p,E=u;case 3:case 2:if(!g(c)){P=s,h=c,E=u;break}if(g(s)){E=s,A=c;break}E=c,A=u;case 1:g(s)?E=s:i?h=s:P=s;break;case 0:break;default:throw n("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var b=h instanceof v,T=b?h:a.isArray?[]:new v(h),x={},R=a.interceptor&&a.interceptor.response||w,O=a.interceptor&&a.interceptor.responseError||t;f(a,function(r,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(x[e]=d(r))}),i&&(x.data=h),y.setUrlParams(x,m({},$(h,a.params||{}),P),a.url);var k=r(x).then(function(r){var t=r.data,o=T.$promise;if(t){if(e.isArray(t)!=!!a.isArray)throw n("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",a.isArray?"array":"object",e.isArray(t)?"array":"object");a.isArray?(T.length=0,f(t,function(r){T.push(new v(r))})):(d(t,T),T.$promise=o)}return T.$resolved=!0,r.resource=T,r},function(r){return T.$resolved=!0,(A||l)(r),o.reject(r)});return k=k.then(function(r){var e=R(r);return(E||l)(e,r.headers),e},O),b?k:(T.$promise=k,T.$resolved=!1,T)},v.prototype["$"+s]=function(r,e,t){g(r)&&(t=e,e=r,r={});var n=v[s](r,this,e,t);return n.$promise||n}}),v.bind=function(r){return u(a,m({},s,r),i)},v}var p={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},l=e.noop,f=e.forEach,m=e.extend,d=e.copy,g=e.isFunction,h=function(r,e){return a(e)(r)};return c.prototype={setUrlParams:function(r,t,a){var o,i,c=this,u=a||c.template,p=c.urlParams={};f(u.split(/\W/),function(r){if("hasOwnProperty"===r)throw n("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(r)&&r&&new RegExp("(^|[^\\\\]):"+r+"(\\W|$)").test(u)&&(p[r]=!0)}),u=u.replace(/\\:/g,":"),t=t||{},f(c.urlParams,function(r,n){o=t.hasOwnProperty(n)?t[n]:c.defaults[n],e.isDefined(o)&&null!==o?(i=s(o),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),i+"$1")):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(r,e,t){return"/"==t.charAt(0)?t:e+t})}),u=u.replace(/\/+$/,""),u=u.replace(/\/\.(?=\w+($|\?))/,"."),r.url=u.replace(/\/\\\./,"/."),f(t,function(e,t){c.urlParams[t]||(r.params=r.params||{},r.params[t]=e)})}},u}])})(window,window.angular);