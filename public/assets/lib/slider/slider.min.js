(function(a){a.fn.fullWidth=function(b){var d={maxHeight:450,minHeight:375,delay:5e3,transition:1e3,maxFont:36,minFont:20},c=a.extend(d,b);return this.each(function(){var n=a(this),s=n.find(".inner"),f=s.find(".slide"),o=f.find("img"),e=n.find(".slide-nav"),r=n.find(".controls a"),i="",m=9999,l={current:0,max:f.length-1},k={slides:"",resize:""},j=function(u,t){s.is(":animated")||(p(),l.current="right"===u?l.current+1>l.max?0:l.current+1:"left"===u?0>l.current-1?l.max:l.current-1:t||"0",i.removeClass("current").eq(l.current).addClass("current"),s.animate({"margin-left":"-"+100*l.current+"%"},c.transition,function(){g()}))},g=function(){k.slides=setTimeout(function(){j("right")},c.delay)},p=function(){clearTimeout(k.slides)},h=function(){var w=a(window).width(),t=parseInt(w/3,10),x=m>=w?["100%","auto","9999"]:["","",""],y=s.height(),u=480>=w?["0","100%","none"]:["","",""],v=w/41;v=v>c.maxFont?c.maxFont:c.minFont>v?c.minFont:v,s.css("height",function(){return t>c.maxHeight?c.maxHeight:c.minHeight>t?c.minHeight:t}),o.css({"margin-top":function(){var z=a(this).height();return"-"+(y>z?0:z-y)/2+"px"},height:x[0],width:x[1],maxWidth:x[2]}),f.find("div").css({"font-size":v,top:function(){var z=y-a(this).height();return 480>=w?z:z/2},padding:u[0],width:u[1]}).find("br").css("display",u[2])},q=function(){a(window).resize(function(){clearTimeout(k.resize),k.resize=setTimeout(function(){h()},100)}).trigger("resize"),r.on("click",function(){return j(this.className),!1}),n.on("mouseenter mouseleave",function(t){r.is(":animated")||("mouseenter"===t.type?r.fadeIn():r.fadeOut())}),i.on("click",function(){j("direct",a(this).index())}),a(document).on("keydown",function(t){(37===t.which||39===t.which)&&j(37===t.which?"left":"right")})};(function(){s.css("height",c.minHeight),o.each(function(){var t=a(this).attr("width");m=m>t?t:m}),f.each(function(t){a(this).addClass("slide-"+(t+1))}),s.css("width",100*f.length+"%"),f.css("width",parseFloat(100/f.length,10)+"%").each(function(){e.append("<span>&bull;</span>")}),f.find("div").wrapInner("<p />"),i=e.find("span"),i.first().addClass("current"),e.css("width",function(){return 26*i.length}),a(window).load(function(){q(),s.fadeTo(1e3,1,function(){g()})})})()})}})(jQuery);