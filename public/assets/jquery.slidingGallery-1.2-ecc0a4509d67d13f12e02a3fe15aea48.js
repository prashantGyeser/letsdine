/*
*       Developed by Justin Mead
*       Â©2009 MeadMiracle
*		www.meadmiracle.com / meadmiracle@gmail.com
*       Version 1.0
*       Testing: IE7/Windows XP
*                Firefox/Windows XP
*       Licensed under the Creative Commons GPL http://creativecommons.org/licenses/GPL/2.0/
*
*       OPTIONS LISTING:
*           *Lheight, Lwidth            - the height and width to use for the center image (landscape)
*           *Lshrink                    - the function to use when shrinking an image to a smaller size.  must take in and return an integer value. (landscape)
*           *Lzoom                      - the function to use when enlarging an image for the zoom view.  must take in and return an integer value. (landscape)
*           *Pheight, Pwidth            - the height and width to use for the center image (portrait)
*           *Pshrink                    - the function to use when shrinking an image to a smaller size.  must take in and return an integer value. (portrait)
*           *Pzoom                      - the function to use when enlarging an image for the zoom view.  must take in and return an integer value. (portrait)
*           *defaultLayout              - the layout attribute to apply when the image has no layout attribute
*           *startClass                 - the class label of the image to place in the center slot at the start of the gallery
*           *slideSpeed                 - the animation speed of sliding. use jQuery animation speed values
*           *zoomSpeed                  - the animation speed of zooming. use jQuery animation speed values
*           *gutterWidth                - the horizontal distance between each of the images. use a pixel value
*           *captionUpPath              - the path of the image to use for the "caption up" button
*           *captionUpWidth             - the pixel width of the "caption up" image
*           *captionUpHeight            - the pixel height of the "caption up" image
*           *captionUpID                - the ID attribute to use for the "caption up" image
*           *captionDownPath            - the path of the image to use for the "caption down" button
*           *captionDownWidth           - the pixel width of the "caption down" image
*           *captionDownHeight          - the pixel height of the "caption down" image
*           *captionDownID              - the ID attribute to use for the "caption down" image
*           *captionHeight              - the function to use to determine the height of the caption. takes in an integer value (usually the height of the image to caption)
                                          and returns an integer value
*           *captionStyle               - the CSS style value to apply to the captions
*           *captionClass               - the CSS class to apply to the captions
*           *captionID                  - the ID attribute to apply to the currently active caption
*           *captionTextAttribute       - the attribute containing the text to use in captions
*           *useCaptions                - allow captions to be shown
*
*       All options have default values, and as such, are optional.  Check the 'options' JSON object below to see the defaults.
*/
(function(e){e.galleryUtility={},e.galleryUtility.centerImage={},e.galleryUtility.rightImage={},e.galleryUtility.leftImage={},e.galleryUtility.rightImageStorage={},e.galleryUtility.leftImageStorage={},e.galleryUtility.zoomImage={},e.galleryUtility.gallery={},e.galleryUtility.Options={container:null,Lheight:300,Lwidth:400,Lshrink:function(e){return e*.75},Lzoom:function(e){return e*2},Pheight:400,Pwidth:300,Pshrink:function(e){return e*.75},Pzoom:function(e){return e*2},defaultLayout:"landscape",startClass:"start",slideSpeed:"normal",zoomSpeed:"fast",gutterWidth:50,captionUpPath:"Images/SlidingGallery/captionUpArrow.png",captionUpWidth:24,captionUpHeight:17,captionUpID:"captionArrowUp",captionDownPath:"Images/SlidingGallery/captionDownArrow.png",captionDownWidth:24,captionDownHeight:17,captionDownID:"captionArrowDown",captionHeight:function(e){return e*.1},captionStyle:"background-color:white; color:black; opacity: 0.6; filter: alpha(opacity = 60); font-size: 16px; text-align:center;",captionClass:"captionBox",captionID:"activeCaption",captionTextAttribute:"caption",useCaptions:!1},e.fn.slidingGallery=function(t){e.extend(e.galleryUtility.Options,t),e("body").css("overflow-x","hidden");var n=null;e.galleryUtility.Options.container?e.galleryUtility.Options.container.css("position","relative"):e.galleryUtility.Options.container=e("body"),e.galleryUtility.gallery=e(this).css("cursor","pointer"),e.galleryUtility.definePositions(),e.galleryUtility.Options.useCaptions&&(e.galleryUtility.Options.container.append('<img src="'+e.galleryUtility.Options.captionUpPath+'" style="width: '+e.galleryUtility.Options.captionUpWidth+'; display: none; border-width:0px;"'+'id="'+e.galleryUtility.Options.captionUpID+'" />').append('<img src="'+e.galleryUtility.Options.captionDownPath+'" style="width: '+e.galleryUtility.Options.captionDownWidth+'; display: none; border-width:0px;"'+'id="'+e.galleryUtility.Options.captionDownID+'" />'),e("#"+e.galleryUtility.Options.captionUpID+",#"+e.galleryUtility.Options.captionDownID).css("cursor","help"));var r=0,i=e.galleryUtility.gallery.each(function(t){e(this).attr({index:t,prev:t-1,next:t+1}).css("position","absolute"),e(this).attr("layout")!=="portrait"&&e(this).attr("layout")!=="landscape"&&e(this).attr("layout",e.galleryUtility.Options.defaultLayout),r=t}).hide().size(),s=0;while(i<7){var o=e.galleryUtility.gallery.filter("[index="+s+"]").clone().attr({index:r+1,prev:r,next:r+2}).removeClass(e.galleryUtility.Options.startClass);e.galleryUtility.gallery.filter("[index="+r+"]").after(o),e.galleryUtility.gallery=e.galleryUtility.gallery.add("img[index="+(r+1)+"]"),r++,s++,i++}return e.galleryUtility.gallery.filter("[index="+r+"]").attr("next",0),e.galleryUtility.gallery.filter("[index=0]").attr("prev",r),e.galleryUtility.setCenter(e.galleryUtility.gallery.filter("."+e.galleryUtility.Options.startClass).show()),e.galleryUtility.setLeft(e.galleryUtility.gallery.filter("[index="+e.galleryUtility.centerImage.image.attr("prev")+"]").show()),e.galleryUtility.setRight(e.galleryUtility.gallery.filter("[index="+e.galleryUtility.centerImage.image.attr("next")+"]").show()),e.galleryUtility.setLeftStorage(e.galleryUtility.gallery.filter("[index="+e.galleryUtility.leftImage.image.attr("prev")+"]")),e.galleryUtility.setRightStorage(e.galleryUtility.gallery.filter("[index="+e.galleryUtility.rightImage.image.attr("next")+"]")),e.galleryUtility.leftImage.image.one("click",e.galleryUtility.slideRight),e.galleryUtility.rightImage.image.one("click",e.galleryUtility.slideLeft),e.galleryUtility.centerImage.image.one("click",e.galleryUtility.zoomIn),e(window).resize(function(){e.galleryUtility.definePositions(),e.galleryUtility.setCenter(e.galleryUtility.centerImage.image),e.galleryUtility.setLeft(e.galleryUtility.leftImage.image),e.galleryUtility.setRight(e.galleryUtility.rightImage.image),e.galleryUtility.setLeftStorage(e.galleryUtility.leftImageStorage.image),e.galleryUtility.setRightStorage(e.galleryUtility.rightImageStorage.image)}),e(this)},e.galleryUtility.slideRight=function(){var t=e.galleryUtility.leftImage.left(e.galleryUtility.leftImageStorage.image,e.galleryUtility.leftImage.image),n=e.galleryUtility.rightImage.left(e.galleryUtility.leftImage.image),r=e.galleryUtility.rightImageStorage.left(e.galleryUtility.centerImage.image);e.galleryUtility.leftImageStorage.image.attr("layout")==="landscape"?e.galleryUtility.leftImageStorage.image.animate({top:e.galleryUtility.leftImage.Ltop,left:t,height:e.galleryUtility.leftImage.Lheight,width:e.galleryUtility.leftImage.Lwidth,opacity:"show"},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideRight)}):e.galleryUtility.leftImageStorage.image.animate({top:e.galleryUtility.leftImage.Ptop,left:t,height:e.galleryUtility.leftImage.Pheight,width:e.galleryUtility.leftImage.Pwidth,opacity:"show"},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideRight)}),e.galleryUtility.leftImage.image.attr("layout")==="landscape"?e.galleryUtility.leftImage.image.unbind().animate({top:e.galleryUtility.centerImage.Ltop,left:e.galleryUtility.centerImage.Lleft,height:e.galleryUtility.centerImage.Lheight,width:e.galleryUtility.centerImage.Lwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.zoomIn)}):e.galleryUtility.leftImage.image.unbind().animate({top:e.galleryUtility.centerImage.Ptop,left:e.galleryUtility.centerImage.Pleft,height:e.galleryUtility.centerImage.Pheight,width:e.galleryUtility.centerImage.Pwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.zoomIn)}),e.galleryUtility.centerImage.image.attr("layout")==="landscape"?e.galleryUtility.centerImage.image.unbind().animate({top:e.galleryUtility.rightImage.Ltop,left:n,height:e.galleryUtility.rightImage.Lheight,width:e.galleryUtility.rightImage.Lwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideLeft)}):e.galleryUtility.centerImage.image.unbind().animate({top:e.galleryUtility.rightImage.Ptop,left:n,height:e.galleryUtility.rightImage.Pheight,width:e.galleryUtility.rightImage.Pwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideLeft)}),e.galleryUtility.rightImage.image.attr("layout")==="landscape"?e.galleryUtility.rightImage.image.unbind().animate({top:e.galleryUtility.rightImageStorage.Ltop,left:r,height:e.galleryUtility.rightImageStorage.Lheight,width:e.galleryUtility.rightImageStorage.Lwidth,opacity:"hide"},e.galleryUtility.Options.slideSpeed,"linear"):e.galleryUtility.rightImage.image.unbind().animate({top:e.galleryUtility.rightImageStorage.Ptop,left:r,height:e.galleryUtility.rightImageStorage.Pheight,width:e.galleryUtility.rightImageStorage.Pwidth,opacity:"hide"},e.galleryUtility.Options.slideSpeed,"linear"),e.galleryUtility.rightImageStorage.image=e.galleryUtility.rightImage.image,e.galleryUtility.rightImage.image=e.galleryUtility.centerImage.image,e.galleryUtility.centerImage.image=e.galleryUtility.leftImage.image,e.galleryUtility.leftImage.image=e.galleryUtility.leftImageStorage.image,e.galleryUtility.setLeftStorage(e.galleryUtility.gallery.filter("[index="+e.galleryUtility.leftImageStorage.image.attr("prev")+"]"))},e.galleryUtility.slideLeft=function(){var t=e.galleryUtility.rightImage.left(e.galleryUtility.rightImage.image),n=e.galleryUtility.leftImage.left(e.galleryUtility.centerImage.image,e.galleryUtility.rightImage.image),r=e.galleryUtility.leftImageStorage.left(e.galleryUtility.leftImage.image,e.galleryUtility.centerImage.image,e.galleryUtility.rightImage.image);e.galleryUtility.rightImageStorage.image.attr("layout")==="landscape"?e.galleryUtility.rightImageStorage.image.animate({top:e.galleryUtility.rightImage.Ltop,left:t,height:e.galleryUtility.rightImage.Lheight,width:e.galleryUtility.rightImage.Lwidth,opacity:"show"},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideLeft)}):e.galleryUtility.rightImageStorage.image.animate({top:e.galleryUtility.rightImage.Ptop,left:t,height:e.galleryUtility.rightImage.Pheight,width:e.galleryUtility.rightImage.Pwidth,opacity:"show"},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideLeft)}),e.galleryUtility.rightImage.image.attr("layout")==="landscape"?e.galleryUtility.rightImage.image.unbind().animate({top:e.galleryUtility.centerImage.Ltop,left:e.galleryUtility.centerImage.Lleft,height:e.galleryUtility.centerImage.Lheight,width:e.galleryUtility.centerImage.Lwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.zoomIn)}):e.galleryUtility.rightImage.image.unbind().animate({top:e.galleryUtility.centerImage.Ptop,left:e.galleryUtility.centerImage.Pleft,height:e.galleryUtility.centerImage.Pheight,width:e.galleryUtility.centerImage.Pwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.zoomIn)}),e.galleryUtility.centerImage.image.attr("layout")==="landscape"?e.galleryUtility.centerImage.image.unbind().animate({top:e.galleryUtility.leftImage.Ltop,left:n,height:e.galleryUtility.leftImage.Lheight,width:e.galleryUtility.leftImage.Lwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideRight)}):e.galleryUtility.centerImage.image.unbind().animate({top:e.galleryUtility.leftImage.Ptop,left:n,height:e.galleryUtility.leftImage.Pheight,width:e.galleryUtility.leftImage.Pwidth},e.galleryUtility.Options.slideSpeed,"linear",function(){e(this).one("click",e.galleryUtility.slideRight)}),e.galleryUtility.leftImage.image.attr("layout")==="landscape"?e.galleryUtility.leftImage.image.unbind().animate({top:e.galleryUtility.leftImageStorage.Ltop,left:r,height:e.galleryUtility.leftImageStorage.Lheight,width:e.galleryUtility.leftImageStorage.Lwidth,opacity:"hide"},e.galleryUtility.Options.slideSpeed,"linear"):e.galleryUtility.leftImage.image.unbind().animate({top:e.galleryUtility.leftImageStorage.Ptop,left:r,height:e.galleryUtility.leftImageStorage.Pheight,width:e.galleryUtility.leftImageStorage.Pwidth,opacity:"hide"},e.galleryUtility.Options.slideSpeed,"linear"),e.galleryUtility.leftImageStorage.image=e.galleryUtility.leftImage.image,e.galleryUtility.leftImage.image=e.galleryUtility.centerImage.image,e.galleryUtility.centerImage.image=e.galleryUtility.rightImage.image,e.galleryUtility.rightImage.image=e.galleryUtility.rightImageStorage.image,e.galleryUtility.setRightStorage(e.galleryUtility.gallery.filter("[index="+e.galleryUtility.rightImageStorage.image.attr("next")+"]"))},e.galleryUtility.zoomIn=function(){e.galleryUtility.gallery.unbind(),e.galleryUtility.centerImage.image.attr("layout")==="landscape"?e.galleryUtility.centerImage.image.css("z-index","99").animate({top:e.galleryUtility.zoomImage.Ltop,left:e.galleryUtility.zoomImage.Lleft,height:e.galleryUtility.zoomImage.Lheight,width:e.galleryUtility.zoomImage.Lwidth},e.galleryUtility.Options.zoomSpeed,"linear",function(){e.galleryUtility.centerImage.image.one("click",e.galleryUtility.zoomOut),e.galleryUtility.Options.useCaptions&&e("#"+e.galleryUtility.Options.captionDownID).css({height:0,top:e.galleryUtility.zoomImage.Ltop+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),left:e.galleryUtility.zoomImage.Lleft+(e.galleryUtility.zoomImage.Lwidth-e.galleryUtility.Options.captionDownWidth)+parseInt(e.galleryUtility.centerImage.image.css("borderLeftWidth"),10),"z-index":1e3,position:"absolute"}).show().animate({height:e.galleryUtility.Options.captionDownHeight},"fast","linear",function(){e("#"+e.galleryUtility.Options.captionDownID).one("click",e.galleryUtility.LcaptionDown)})}):e.galleryUtility.centerImage.image.css("z-index","99").animate({top:e.galleryUtility.zoomImage.Ptop,left:e.galleryUtility.zoomImage.Pleft,height:e.galleryUtility.zoomImage.Pheight,width:e.galleryUtility.zoomImage.Pwidth},e.galleryUtility.Options.zoomSpeed,"linear",function(){e.galleryUtility.centerImage.image.one("click",e.galleryUtility.zoomOut),e.galleryUtility.Options.useCaptions&&e("#"+e.galleryUtility.Options.captionDownID).css({height:0,top:e.galleryUtility.zoomImage.Ptop+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),left:e.galleryUtility.zoomImage.Pleft+(e.galleryUtility.zoomImage.Pwidth-e.galleryUtility.Options.captionDownWidth)+parseInt(e.galleryUtility.centerImage.image.css("borderLeftWidth"),10),"z-index":100,position:"absolute"}).show().animate({height:e.galleryUtility.Options.captionDownHeight},"fast","linear",function(){e("#"+e.galleryUtility.Options.captionDownID).one("click",e.galleryUtility.PcaptionDown)})})},e.galleryUtility.LcaptionDown=function(){e.galleryUtility.centerImage.image.unbind(),e.galleryUtility.Options.container.append('<span id="'+e.galleryUtility.Options.captionID+'" style="'+e.galleryUtility.Options.captionStyle+'" class="'+e.galleryUtility.Options.captionClass+'">'+e.galleryUtility.centerImage.image.attr(e.galleryUtility.Options.captionTextAttribute)+"</span>"),e("#"+e.galleryUtility.Options.captionID).css({top:e.galleryUtility.zoomImage.Ltop+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),left:e.galleryUtility.zoomImage.Lleft+parseInt(e.galleryUtility.centerImage.image.css("borderLeftWidth"),10),width:e.galleryUtility.zoomImage.Lwidth,height:0,position:"absolute","z-index":"100"}).animate({height:Math.round(e.galleryUtility.Options.captionHeight(e.galleryUtility.zoomImage.Lheight))},"normal","linear"),e("#"+e.galleryUtility.Options.captionDownID).animate({height:0,top:e.galleryUtility.zoomImage.Ltop+Math.round(e.galleryUtility.Options.captionHeight(e.galleryUtility.zoomImage.Lheight))+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10)},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionDownID).hide()}),e("#"+e.galleryUtility.Options.captionUpID).css({top:e.galleryUtility.zoomImage.Ltop+e.galleryUtility.Options.captionDownHeight+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),left:e.galleryUtility.zoomImage.Lleft+(e.galleryUtility.zoomImage.Lwidth-e.galleryUtility.Options.captionUpWidth)+parseInt(e.galleryUtility.centerImage.image.css("borderLeftWidth"),10),height:0,position:"absolute","z-index":"100"}).show().animate({top:e.galleryUtility.zoomImage.Ltop+Math.round(e.galleryUtility.Options.captionHeight(e.galleryUtility.zoomImage.Lheight))+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),height:e.galleryUtility.Options.captionUpHeight},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionUpID).one("click",function(){e.galleryUtility.LcaptionUp(!1)}),e.galleryUtility.centerImage.image.one("click",function(){e.galleryUtility.LcaptionUp(!0)})})},e.galleryUtility.PcaptionDown=function(){e.galleryUtility.centerImage.image.unbind(),e.galleryUtility.Options.container.append('<span id="'+e.galleryUtility.Options.captionID+'" style="'+e.galleryUtility.Options.captionStyle+'" class="'+e.galleryUtility.Options.captionClass+'">'+e.galleryUtility.centerImage.image.attr(e.galleryUtility.Options.captionTextAttribute)+"</span>"),e("#"+e.galleryUtility.Options.captionID).css({top:e.galleryUtility.zoomImage.Ptop+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),left:e.galleryUtility.zoomImage.Pleft+parseInt(e.galleryUtility.centerImage.image.css("borderLeftWidth"),10),width:e.galleryUtility.zoomImage.Pwidth,height:0,position:"absolute","z-index":"100"}).animate({height:Math.round(e.galleryUtility.Options.captionHeight(e.galleryUtility.zoomImage.Pheight))},"normal","linear"),e("#"+e.galleryUtility.Options.captionDownID).animate({height:0,top:e.galleryUtility.zoomImage.Ptop+Math.round(e.galleryUtility.Options.captionHeight(e.galleryUtility.zoomImage.Pheight))+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10)},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionDownID).hide()}),e("#"+e.galleryUtility.Options.captionUpID).css({top:e.galleryUtility.zoomImage.Ptop+e.galleryUtility.Options.captionDownHeight+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),left:e.galleryUtility.zoomImage.Pleft+(e.galleryUtility.zoomImage.Pwidth-e.galleryUtility.Options.captionUpWidth)+parseInt(e.galleryUtility.centerImage.image.css("borderLeftWidth"),10),height:0,position:"absolute","z-index":"100"}).show().animate({top:e.galleryUtility.zoomImage.Ptop+Math.round(e.galleryUtility.Options.captionHeight(e.galleryUtility.zoomImage.Pheight))+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),height:e.galleryUtility.Options.captionUpHeight},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionUpID).one("click",function(){e.galleryUtility.PcaptionUp(!1)}),e.galleryUtility.centerImage.image.one("click",function(){e.galleryUtility.PcaptionUp(!0)})})},e.galleryUtility.LcaptionUp=function(t){e("#"+e.galleryUtility.Options.captionID).animate({height:0},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionID).remove()}),e("#"+e.galleryUtility.Options.captionUpID).animate({top:e.galleryUtility.zoomImage.Ltop+e.galleryUtility.Options.captionDownHeight+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),height:0},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionUpID).hide()}),e("#"+e.galleryUtility.Options.captionDownID).show().animate({height:e.galleryUtility.Options.captionDownHeight,top:e.galleryUtility.zoomImage.Ltop+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10)},"normal","linear",function(){t?(e("#"+e.galleryUtility.Options.captionUpID).unbind(),e.galleryUtility.zoomOut()):(e("#"+e.galleryUtility.Options.captionDownID).one("click",e.galleryUtility.LcaptionDown),e.galleryUtility.centerImage.image.one("click",e.galleryUtility.zoomOut))})},e.galleryUtility.PcaptionUp=function(t){e("#"+e.galleryUtility.Options.captionID).animate({height:0},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionID).remove()}),e("#"+e.galleryUtility.Options.captionUpID).animate({top:e.galleryUtility.zoomImage.Ptop+e.galleryUtility.Options.captionDownHeight+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10),height:0},"normal","linear",function(){e("#"+e.galleryUtility.Options.captionUpID).hide()}),e("#"+e.galleryUtility.Options.captionDownID).show().animate({height:e.galleryUtility.Options.captionDownHeight,top:e.galleryUtility.zoomImage.Ptop+parseInt(e.galleryUtility.centerImage.image.css("borderTopWidth"),10)},"normal","linear",function(){t?(e("#"+e.galleryUtility.Options.captionUpID).unbind(),e.galleryUtility.zoomOut()):(e("#"+e.galleryUtility.Options.captionDownID).one("click",e.galleryUtility.PcaptionDown),e.galleryUtility.centerImage.image.one("click",e.galleryUtility.zoomOut))})},e.galleryUtility.zoomOut=function(){e.galleryUtility.Options.useCaptions?e("#"+e.galleryUtility.Options.captionDownID).animate({height:0},50,"linear",e.galleryUtility.zoomOutBody).unbind():e.galleryUtility.zoomOutBody()},e.galleryUtility.zoomOutBody=function(){e.galleryUtility.centerImage.image.attr("layout")==="landscape"?e.galleryUtility.centerImage.image.animate({top:e.galleryUtility.centerImage.Ltop,left:e.galleryUtility.centerImage.Lleft,height:e.galleryUtility.centerImage.Lheight,width:e.galleryUtility.centerImage.Lwidth},e.galleryUtility.Options.zoomSpeed,"linear",function(){e(this).css("z-index","0").one("click",e.galleryUtility.zoomIn),e.galleryUtility.leftImage.image.one("click",e.galleryUtility.slideRight),e.galleryUtility.rightImage.image.one("click",e.galleryUtility.slideLeft)}):e.galleryUtility.centerImage.image.animate({top:e.galleryUtility.centerImage.Ptop,left:e.galleryUtility.centerImage.Pleft,height:e.galleryUtility.centerImage.Pheight,width:e.galleryUtility.centerImage.Pwidth},e.galleryUtility.Options.zoomSpeed,"linear",function(){e(this).css("z-index","0").one("click",e.galleryUtility.zoomIn),e.galleryUtility.leftImage.image.one("click",e.galleryUtility.slideRight),e.galleryUtility.rightImage.image.one("click",e.galleryUtility.slideLeft)})},e.galleryUtility.setRightStorage=function(t){e.galleryUtility.rightImageStorage.image=t,e.galleryUtility.rightImageStorage.image.attr("layout")==="landscape"?e.galleryUtility.rightImageStorage.image.hide().css({top:e.galleryUtility.rightImageStorage.Ltop,height:e.galleryUtility.rightImageStorage.Lheight,width:e.galleryUtility.rightImageStorage.Lwidth}):e.galleryUtility.rightImageStorage.image.hide().css({top:e.galleryUtility.rightImageStorage.Ptop,height:e.galleryUtility.rightImageStorage.Pheight,width:e.galleryUtility.rightImageStorage.Pwidth}),e.galleryUtility.rightImageStorage.image.css("left",e.galleryUtility.rightImageStorage.left(e.galleryUtility.rightImage.image))},e.galleryUtility.setLeftStorage=function(t){e.galleryUtility.leftImageStorage.image=t,e.galleryUtility.leftImageStorage.image.attr("layout")==="landscape"?e.galleryUtility.leftImageStorage.image.hide().css({top:e.galleryUtility.leftImageStorage.Ltop,height:e.galleryUtility.leftImageStorage.Lheight,width:e.galleryUtility.leftImageStorage.Lwidth}):e.galleryUtility.leftImageStorage.image.hide().css({top:e.galleryUtility.leftImageStorage.Ptop,height:e.galleryUtility.leftImageStorage.Pheight,width:e.galleryUtility.leftImageStorage.Pwidth}),e.galleryUtility.leftImageStorage.image.css("left",e.galleryUtility.leftImageStorage.left(e.galleryUtility.leftImageStorage.image,e.galleryUtility.leftImage.image,e.galleryUtility.centerImage.image))},e.galleryUtility.setCenter=function(t){e.galleryUtility.centerImage.image=t,e.galleryUtility.centerImage.image.attr("layout")==="landscape"?e.galleryUtility.centerImage.image.css({top:e.galleryUtility.centerImage.Ltop,left:e.galleryUtility.centerImage.Lleft,height:e.galleryUtility.centerImage.Lheight,width:e.galleryUtility.centerImage.Lwidth}):e.galleryUtility.centerImage.image.css({top:e.galleryUtility.centerImage.Ptop,left:e.galleryUtility.centerImage.Pleft,height:e.galleryUtility.centerImage.Pheight,width:e.galleryUtility.centerImage.Pwidth})},e.galleryUtility.setRight=function(t){e.galleryUtility.rightImage.image=t,e.galleryUtility.rightImage.image.attr("layout")==="landscape"?e.galleryUtility.rightImage.image.css({top:e.galleryUtility.rightImage.Ltop,height:e.galleryUtility.rightImage.Lheight,width:e.galleryUtility.rightImage.Lwidth}):e.galleryUtility.rightImage.image.css({top:e.galleryUtility.rightImage.Ptop,height:e.galleryUtility.rightImage.Pheight,width:e.galleryUtility.rightImage.Pwidth}),e.galleryUtility.rightImage.image.css("left",e.galleryUtility.rightImage.left(e.galleryUtility.centerImage.image))},e.galleryUtility.setLeft=function(t){e.galleryUtility.leftImage.image=t,e.galleryUtility.leftImage.image.attr("layout")==="landscape"?e.galleryUtility.leftImage.image.css({top:e.galleryUtility.leftImage.Ltop,height:e.galleryUtility.leftImage.Lheight,width:e.galleryUtility.leftImage.Lwidth}):e.galleryUtility.leftImage.image.css({top:e.galleryUtility.leftImage.Ptop,height:e.galleryUtility.leftImage.Pheight,width:e.galleryUtility.leftImage.Pwidth}),e.galleryUtility.leftImage.image.css("left",e.galleryUtility.leftImage.left(e.galleryUtility.leftImage.image,e.galleryUtility.centerImage.image))},e.galleryUtility.definePositions=function(){var t=e.galleryUtility.Options.container;t[0].tagName=="BODY"&&(t=e(window));var n=t.height(),r=t.width();e.galleryUtility.centerImage.Lheight=Math.round(e.galleryUtility.Options.Lheight),e.galleryUtility.centerImage.Lwidth=Math.round(e.galleryUtility.Options.Lwidth),e.galleryUtility.centerImage.Ltop=Math.round(n/2)-e.galleryUtility.centerImage.Lheight/2,e.galleryUtility.centerImage.Lleft=Math.round(r/2)-e.galleryUtility.centerImage.Lwidth/2,e.galleryUtility.centerImage.Pheight=Math.round(e.galleryUtility.Options.Pheight),e.galleryUtility.centerImage.Pwidth=Math.round(e.galleryUtility.Options.Pwidth),e.galleryUtility.centerImage.Ptop=Math.round(n/2-e.galleryUtility.centerImage.Pheight/2),e.galleryUtility.centerImage.Pleft=Math.round(r/2-e.galleryUtility.centerImage.Pwidth/2),e.galleryUtility.zoomImage.Lheight=Math.round(e.galleryUtility.Options.Lzoom(e.galleryUtility.centerImage.Lheight)),e.galleryUtility.zoomImage.Lwidth=Math.round(e.galleryUtility.Options.Lzoom(e.galleryUtility.centerImage.Lwidth)),e.galleryUtility.zoomImage.Ltop=Math.round(n/2-e.galleryUtility.zoomImage.Lheight/2),e.galleryUtility.zoomImage.Lleft=Math.round(r/2-e.galleryUtility.zoomImage.Lwidth/2),e.galleryUtility.zoomImage.Pheight=Math.round(e.galleryUtility.Options.Pzoom(e.galleryUtility.centerImage.Pheight)),e.galleryUtility.zoomImage.Pwidth=Math.round(e.galleryUtility.Options.Pzoom(e.galleryUtility.centerImage.Pwidth)),e.galleryUtility.zoomImage.Ptop=Math.round(n/2-e.galleryUtility.zoomImage.Pheight/2),e.galleryUtility.zoomImage.Pleft=Math.round(r/2-e.galleryUtility.zoomImage.Pwidth/2),e.galleryUtility.leftImage.Lheight=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.centerImage.Lheight)),e.galleryUtility.leftImage.Lwidth=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.centerImage.Lwidth)),e.galleryUtility.leftImage.Ltop=Math.round(e.galleryUtility.centerImage.Ltop+(e.galleryUtility.centerImage.Lheight-e.galleryUtility.leftImage.Lheight)/2),e.galleryUtility.leftImage.left=function(t,n){return n.attr("layout")==="landscape"?t.attr("layout")==="landscape"?Math.round(e.galleryUtility.centerImage.Lleft-(e.galleryUtility.leftImage.Lwidth+e.galleryUtility.Options.gutterWidth)):Math.round(e.galleryUtility.centerImage.Lleft-(e.galleryUtility.leftImage.Pwidth+e.galleryUtility.Options.gutterWidth)):t.attr("layout")==="landscape"?Math.round(e.galleryUtility.centerImage.Pleft-(e.galleryUtility.leftImage.Lwidth+e.galleryUtility.Options.gutterWidth)):Math.round(e.galleryUtility.centerImage.Pleft-(e.galleryUtility.leftImage.Pwidth+e.galleryUtility.Options.gutterWidth))},e.galleryUtility.leftImage.Pheight=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.centerImage.Pheight)),e.galleryUtility.leftImage.Pwidth=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.centerImage.Pwidth)),e.galleryUtility.leftImage.Ptop=Math.round(e.galleryUtility.centerImage.Ptop+(e.galleryUtility.centerImage.Pheight-e.galleryUtility.leftImage.Pheight)/2),e.galleryUtility.rightImage.Lheight=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.centerImage.Lheight)),e.galleryUtility.rightImage.Lwidth=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.centerImage.Lwidth)),e.galleryUtility.rightImage.Ltop=Math.round(e.galleryUtility.centerImage.Ltop+(e.galleryUtility.centerImage.Lheight-e.galleryUtility.rightImage.Lheight)/2),e.galleryUtility.rightImage.left=function(t){return t.attr("layout")==="landscape"?Math.round(e.galleryUtility.centerImage.Lleft+(e.galleryUtility.centerImage.Lwidth+e.galleryUtility.Options.gutterWidth)):Math.round(e.galleryUtility.centerImage.Pleft+(e.galleryUtility.centerImage.Pwidth+e.galleryUtility.Options.gutterWidth))},e.galleryUtility.rightImage.Pheight=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.centerImage.Pheight)),e.galleryUtility.rightImage.Pwidth=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.centerImage.Pwidth)),e.galleryUtility.rightImage.Ptop=Math.round(e.galleryUtility.centerImage.Ptop+(e.galleryUtility.centerImage.Pheight-e.galleryUtility.leftImage.Pheight)/2),e.galleryUtility.leftImageStorage.Lheight=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.leftImage.Lheight)),e.galleryUtility.leftImageStorage.Lwidth=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.leftImage.Lwidth)),e.galleryUtility.leftImageStorage.Ltop=Math.round(e.galleryUtility.leftImage.Ltop+(e.galleryUtility.leftImage.Lheight-e.galleryUtility.leftImageStorage.Lheight)/2),e.galleryUtility.leftImageStorage.left=function(t,n,r){return t.attr("layout")==="landscape"?Math.round(e.galleryUtility.leftImage.left(n,r)-(e.galleryUtility.leftImageStorage.Lwidth+e.galleryUtility.Options.gutterWidth)):Math.round(e.galleryUtility.leftImage.left(n,r)-(e.galleryUtility.leftImageStorage.Pwidth+e.galleryUtility.Options.gutterWidth))},e.galleryUtility.leftImageStorage.Pheight=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.leftImage.Pheight)),e.galleryUtility.leftImageStorage.Pwidth=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.leftImage.Pwidth)),e.galleryUtility.leftImageStorage.Ptop=Math.round(e.galleryUtility.leftImage.Ptop+(e.galleryUtility.leftImage.Pheight-e.galleryUtility.leftImageStorage.Pheight)/2),e.galleryUtility.rightImageStorage.Lheight=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.rightImage.Lheight)),e.galleryUtility.rightImageStorage.Lwidth=Math.round(e.galleryUtility.Options.Lshrink(e.galleryUtility.rightImage.Lwidth)),e.galleryUtility.rightImageStorage.Ltop=Math.round(e.galleryUtility.rightImage.Ltop+(e.galleryUtility.rightImage.Lheight-e.galleryUtility.rightImageStorage.Lheight)/2),e.galleryUtility.rightImageStorage.left=function(t){return t.attr("layout")==="landscape"?Math.round(e.galleryUtility.rightImage.left(t)+(e.galleryUtility.rightImage.Lwidth+e.galleryUtility.Options.gutterWidth)):Math.round(e.galleryUtility.rightImage.left(t)+(e.galleryUtility.rightImage.Pwidth+e.galleryUtility.Options.gutterWidth))},e.galleryUtility.rightImageStorage.Pheight=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility
.rightImage.Pheight)),e.galleryUtility.rightImageStorage.Pwidth=Math.round(e.galleryUtility.Options.Pshrink(e.galleryUtility.rightImage.Pwidth)),e.galleryUtility.rightImageStorage.Ptop=Math.round(e.galleryUtility.rightImage.Ptop+(e.galleryUtility.rightImage.Pheight-e.galleryUtility.rightImageStorage.Pheight)/2)}})(jQuery);