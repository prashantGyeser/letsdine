/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(e){var t=function(t,n){var t=e(t),r=this,i=e.extend({},e.fn.bootstrapWizard.defaults,n),s=null,o=null;this.fixNavigationButtons=function(){s.length||(o.find("a:first").tab("show"),s=o.find("li:first")),r.firstIndex()>=r.currentIndex()?e("li.previous",t).addClass("disabled"):e("li.previous",t).removeClass("disabled"),r.currentIndex()>=r.navigationLength()?e("li.next",t).addClass("disabled"):e("li.next",t).removeClass("disabled");if(i.onTabShow&&typeof i.onTabShow=="function"&&i.onTabShow(s,o,r.currentIndex())===!1)return!1},this.next=function(e){if(t.hasClass("last"))return!1;if(i.onNext&&typeof i.onNext=="function"&&i.onNext(s,o,r.nextIndex())===!1)return!1;$index=r.nextIndex(),$index>r.navigationLength()||o.find("li:eq("+$index+") a").tab("show")},this.previous=function(e){if(t.hasClass("first"))return!1;if(i.onPrevious&&typeof i.onPrevious=="function"&&i.onPrevious(s,o,r.previousIndex())===!1)return!1;$index=r.previousIndex(),$index<0||o.find("li:eq("+$index+") a").tab("show")},this.first=function(e){if(i.onFirst&&typeof i.onFirst=="function"&&i.onFirst(s,o,r.firstIndex())===!1)return!1;if(t.hasClass("disabled"))return!1;o.find("li:eq(0) a").tab("show")},this.last=function(e){if(i.onLast&&typeof i.onLast=="function"&&i.onLast(s,o,r.lastIndex())===!1)return!1;if(t.hasClass("disabled"))return!1;o.find("li:eq("+r.navigationLength()+") a").tab("show")},this.currentIndex=function(){return o.find("li").index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return r.navigationLength()},this.getIndex=function(e){return o.find("li").index(e)},this.nextIndex=function(){return o.find("li").index(s)+1},this.previousIndex=function(){return o.find("li").index(s)-1},this.navigationLength=function(){return o.find("li").length-1},this.activeTab=function(){return s},this.nextTab=function(){return o.find("li:eq("+(r.currentIndex()+1)+")").length?o.find("li:eq("+(r.currentIndex()+1)+")"):null},this.previousTab=function(){return r.currentIndex()<=0?null:o.find("li:eq("+parseInt(r.currentIndex()-1)+")")},this.show=function(e){return t.find("li:eq("+e+") a").tab("show")},o=t.find("ul:first",t),s=o.find("li.active",t),o.hasClass(i.tabClass)||o.addClass(i.tabClass),i.onInit&&typeof i.onInit=="function"&&i.onInit(s,o,0),e(i.nextSelector,t).bind("click",r.next),e(i.previousSelector,t).bind("click",r.previous),e(i.lastSelector,t).bind("click",r.last),e(i.firstSelector,t).bind("click",r.first),i.onShow&&typeof i.onShow=="function"&&i.onShow(s,o,r.nextIndex()),r.fixNavigationButtons(),e('a[data-toggle="tab"]',t).on("click",function(t){var n=o.find("li").index(e(t.currentTarget).parent("li"));if(i.onTabClick&&typeof i.onTabClick=="function"&&i.onTabClick(s,o,r.currentIndex(),n)===!1)return!1}),e('a[data-toggle="tab"]',t).on("show",function(t){$element=e(t.target).parent();if($element.hasClass("disabled"))return!1;s=$element,r.fixNavigationButtons()})};e.fn.bootstrapWizard=function(n){if(typeof n=="string"){var r=Array.prototype.slice.call(arguments,1).toString();return this.data("bootstrapWizard")[n](r)}return this.each(function(r){var i=e(this);if(i.data("bootstrapWizard"))return;var s=new t(i,n);i.data("bootstrapWizard",s)})},e.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabClick:null,onTabShow:null}})(jQuery);